<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <style>
        body{
        text-align: center;
        background-image: url("https://miro.medium.com/v2/resize:fit:10000/1*BNI3K8QDkL8rhFiG-jvFrQ.jpeg");
        background-repeat: no-repeat;
        background-size:cover;
        background-attachment:scroll; }

        .footer { text-align: center;
            position:fixed;
            left: 0;
            bottom: 0;
            width: 100%;
            height: 3%;
            background-color: rgb(11, 15, 13);
            color: rgb(247, 243, 243);
            overflow:auto;      }
     .img { font-size: 1vw; }

        </style>
</head>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
$(document).ready(function(){
    // Event listener for dropdown item click
    $(".dropdown-item").click(function(){
        // Get the selected category
        var selectedCategory = $(this).text().trim();

        // Hide all movie cards
        $(".movie-card").hide();

        // Show movie cards with matching category
        $(".movie-card[data-category='" + selectedCategory + "']").show();
    });
});
</script>

<body>

    <nav class="navbar navbar-expand-sm bg-light">
        <ul class="nav nav-pills">
            <li class="nav-item">
                <a class="nav-link"><b>MOVIES WEB</b></a>
            </li>
            <li class="nav-item">
                <a class="nav-link active" href="{% url 'home' %}"><b>Home</b></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'signuppage' %}"><b>Sign up</b></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'loginpage' %}"><b>Login</b></a>
            </li>

<!-- Dropdown menu -->

<li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <b>Category</b>
    </a>
    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
        {% for category in catg %}
            <a class="dropdown-item" href="{% url 'show_movies_by_category' category.id %}">{{ category.c_category }}</a>
            {% comment %} <a class="dropdown-item" href="{% url 'show_movies_by_category' category.c_category %}">{{ category.c_category }}</a> {% endcomment %}
        {% endfor %}
    </div>
</li>


<div class="dropdown-menu" aria-labelledby="navbarDropdown">
    {% for category in catg %}
        <a class="dropdown-item" href="{% url 'show_movies_by_category' category.id %}">{{ category.c_category }}</a>
    {% endfor %}
</div>



    </div>
</div>
        </ul>
        <form class="form-inline ml-auto" method="post" action="{% url 'search' %}">
            {% csrf_token %}
            <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search" name="search">
            <button class="btn btn-outline-success" type="submit">Search</button>
        </form>
    </nav>

{% block content %}
<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
    <ul class="carousel-indicators">
        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
    </ul>

    <div class="carousel-inner">
        <div class="carousel-item active">
        <img src="https://miro.medium.com/v2/resize:fit:10000/1*BNI3K8QDkL8rhFiG-jvFrQ.jpeg" class="img-thumbnail" class="img-fluid">
        </div>
        <div class="carousel-item ">
        <img src=" https://www.dexerto.com/cdn-cgi/image/width=3840,quality=60,format=auto/https://editors.dexerto.com/wp-content/uploads/2024/01/12/top-gun-3-release-date.jpg " class="img-thumbnail" class="img-fluid">
        </div>
    <div class="carousel-item"> 
        <img src="https://img10.hotstar.com/image/upload/f_auto/sources/r1/cms/prod/6720/1366720-i-c30300a11e8d" class="img-fluid">
    </div>
    <div class="carousel-item">
        <img src="https://i0.wp.com/thecinemafiles.com/wp-content/uploads/2024/02/Dune-Banner-Private-Event.jpg?fit=1920%2C1080&ssl=1"class="img-thumbnail" class="img-fluid">
    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
    </div>
    </div><br>
    </div>

<!-- Movie cards -->
<div class="container-fluid">
    <div class="row">
        {% for cd in prd %}
        <div class="col-lg-3 col-md-4 col-sm-6 mb-4 movie-card" data-category="{{ cd.category }}">
            <div class="card shadow">
                <img src="{{ cd.m_img.url }}" class="card-img-top" alt="Movie img" style="height: 100px; object-fit: cover;">
                <div class="card-body">
                    <h5 class="card-title">{{ cd.m_title }}</h5>
                </div>
                <div class="card-body">
                    <form method="post" action="{% url 'movie_details' %}">
                        {% csrf_token %}
                        <input type="hidden" name="movie_details" value="{{ cd.m_title }}">
                        <button type="submit" class="btn btn-primary">Details</button>
                    </form>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

{% endblock %}
            <div class="footer"><h4> Â© 2024 MOVIES CLUB. ALL RIGHTS RESERVED</h4> </div>
            </body>
            </html>
